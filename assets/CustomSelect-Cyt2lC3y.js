import{r as o,j as t,k as y,B as j,C as v,l as C}from"./index-wInRrqmW.js";function N({placeholder:x,options:c,selectedValue:n,onChange:d,isLoading:g,className:p="",error:u}){const[r,a]=o.useState(!1),[b,h]=o.useState({}),l=o.useRef(null),m=o.useRef(null),f=o.useRef(null);o.useEffect(()=>{const e=s=>{const i=s.target;l.current?.contains(i)||m.current?.contains(i)||f.current?.contains(i)||a(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),o.useEffect(()=>{if(r&&l.current){const e=l.current.getBoundingClientRect();h({top:e.bottom+window.scrollY+4+"px",left:e.left+window.scrollX+"px",width:e.width+"px",position:"absolute"})}},[r]);const w=n||x;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{ref:l,className:`inline-block w-full max-w-[200px] ${p}`,children:[t.jsxs(j,{type:"button",onClick:()=>a(e=>!e),disabled:g,className:"w-full flex items-center justify-between px-4 py-2 text-sm border border-gray-300 rounded-lg bg-white shadow-sm hover:border-orange-400 hover:bg-orange-50 transition-colors duration-200",children:[t.jsx("span",{className:`truncate ${n?"text-gray-900":"text-gray-400"}`,children:w}),r?t.jsx(v,{size:18}):t.jsx(C,{size:18})]}),u&&t.jsx("span",{className:"text-sm text-red-500",children:u})]}),r&&y.createPortal(t.jsx("ul",{ref:m,className:"hidden md:block bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-50",style:b,children:c.map(e=>t.jsx("li",{onMouseDown:s=>{s.stopPropagation(),d(e),a(!1)},className:`cursor-pointer px-4 py-2 hover:bg-orange-100 truncate transition-colors duration-150 ${n===e?"bg-orange-200 font-semibold":""}`,children:e},e))}),document.body),r&&t.jsx("ul",{ref:f,className:"fixed md:hidden left-1/2 top-[35%] transform -translate-x-1/2 -translate-y-1/2 w-[80%] bg-white border border-gray-200 rounded-lg shadow-lg max-h-75 overflow-y-auto z-50",children:c.map(e=>t.jsx("li",{onMouseDown:s=>{s.stopPropagation(),d(e),a(!1)},className:`cursor-pointer px-4 py-2 hover:bg-orange-100 transition-colors duration-150 ${n===e?"bg-orange-200 font-semibold":""}`,children:e},e))})]})}const E=o.memo(N);export{E as C};
