const f="http://localhost:5000/api";async function u({query:a="",category:t,brand:e,color:i,size:h,discount:o,minPrice:n,maxPrice:s}){try{const r={};e&&(r.brand=e),i&&(r.color=i),h&&(r.size=h),t&&(r.category=t),o&&o!=="All"&&(r.discount=o),n!=null&&(r.minPrice=String(n)),s!=null&&(r.maxPrice=String(s));const l=new URLSearchParams(r),d=a?.trim()?`/search/${encodeURIComponent(a?.trim())}`:"/search",c=await fetch(`${f}${d}?${l}`);if(!c.ok)throw new Error(`Server error: ${c.status}`);return await c.json()||[]}catch(r){return console.error("Search error:",r),[]}}async function w(a=3){try{const t=await fetch(`${f}/trends?rank=${a}`);if(!t.ok)throw new Error(`Server error: ${t.status}`);const e=await t.json();return e?.success?e.data:[]}catch(t){return console.error("Failed to fetch trending products:",t.message),[]}}export{w as F,u as S};
