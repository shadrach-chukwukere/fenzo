import{c as j,y,n as b,r as d,g as N,j as e,h as x,L as o,B as m,H as w,U as v,b as _}from"./index-wInRrqmW.js";import{a as g,c as S,C as h,P as L,b as k}from"./Orders-DIzcdDzO.js";import{M as C,P as O}from"./phone-Cwhzx5Bn.js";import{T as p}from"./truck-Ddw8bLRS.js";import{C as $}from"./credit-card-DJYoHnoA.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],P=j("calendar",D);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],M=j("chevron-left",F),z="http://localhost:5000/api";function H(){const{orderId:c}=y(),i=b(),[s,n]=d.useState(null),[u,f]=d.useState(!0),r=JSON.parse(N("user")||"{}");if(d.useEffect(()=>{c||i("/orders");async function t(){try{const l=await S(c);l?.success?n(l.order):n(null)}catch(l){console.error(l),n(null)}finally{f(!1)}}t()},[c,i]),u)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 text-gray-700 p-4",children:[e.jsx(x,{className:"h-10 w-10 animate-spin text-indigo-600"}),e.jsx("p",{className:"mt-4 text-lg font-medium",children:"Fetching your order details..."})]});if(!s)return e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 p-4 text-center",children:[e.jsx(g,{className:"h-16 w-16 text-red-500 mb-4"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Order Not Found"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"The order ID you entered does not exist."}),e.jsx(o,{to:"/orders",className:"mt-6",children:e.jsx(m,{children:"Back to Orders"})})]});const a=(t=>{switch(t.toLowerCase()){case"delivered":return{bg:"bg-green-50",text:"text-green-700",ring:"ring-green-400",icon:e.jsx(k,{})};case"processing":return{bg:"bg-yellow-50",text:"text-yellow-700",ring:"ring-yellow-400",icon:e.jsx(x,{className:"animate-spin"})};case"cancelled":return{bg:"bg-red-50",text:"text-red-700",ring:"ring-red-400",icon:e.jsx(g,{})};case"pending":return{bg:"bg-gray-50",text:"text-gray-700",ring:"ring-gray-400",icon:e.jsx(h,{})};case"shipped":return{bg:"bg-blue-50",text:"text-blue-700",ring:"ring-blue-400",icon:e.jsx(p,{})};case"out_for_delivery":return{bg:"bg-purple-50",text:"text-purple-700",ring:"ring-purple-400",icon:e.jsx(L,{})};default:return{bg:"bg-gray-50",text:"text-gray-700",ring:"ring-gray-400",icon:e.jsx(h,{})}}})(s?.status);return e.jsxs(e.Fragment,{children:[e.jsx(w,{children:e.jsx("title",{children:`Fenzo | Order #${s?.order_id}`})}),e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 font-sans text-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold",children:["Order ",e.jsxs("span",{className:"text-indigo-600",children:["#",s?.order_id]})]}),e.jsxs(m,{onClick:()=>i(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(M,{className:"w-5 h-5"})," Back to Orders"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-xl shadow-md border ${a.bg} ${a.text}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-8 h-8 flex items-center justify-center rounded-full ring-2 ${a.ring} bg-white`,children:a.icon}),e.jsx("h2",{className:"font-bold text-lg",children:"Order Status"})]}),e.jsx("p",{className:"font-extrabold text-2xl capitalize",children:s?.status}),e.jsxs("p",{className:"text-sm mt-2",children:["Updated: ",new Date(s?.updated_at).toLocaleString()]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(v,{className:"w-8 h-8 text-gray-500"}),e.jsx("h2",{className:"font-bold text-lg",children:"Customer Details"})]}),e.jsx("p",{className:"font-semibold",children:s?.name??`${r?.firstname} ${r?.lastname}`}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-4 h-4"})," ",s?.email??r?.email]}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-4 h-4"})," ",s?.phone??r?.phone]}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"w-4 h-4"})," ",new Date(s?.created_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"w-6 h-6 text-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Delivery Option"}),e.jsx("p",{className:"text-gray-600",children:s?.option}),e.jsx("p",{className:"text-gray-400 text-sm",children:s?.address})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-6 h-6 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Payment Method"}),e.jsx("p",{className:"text-gray-600 capitalize",children:s?.payment_method})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 md:grid-cols-3 gap-6",children:s?.items.map(t=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 flex flex-col items-start",children:[e.jsx(o,{to:`../product/${t?.product_id}`,className:"w-full flex justify-center mb-3",children:e.jsx(_.LazyLoadImage,{src:`${z}${t?.img1}`,fetchpriority:"high",loading:"lazy",alt:t?.product_name,className:"w-32 h-32 object-cover rounded-lg"})}),e.jsx(o,{to:`../product/${t?.product_id}`,className:"font-semibold text-indigo-600 hover:text-indigo-500 transition-colors mb-2 truncate w-full text-center",children:t?.product_name}),e.jsxs("div",{className:"w-full flex justify-between text-gray-600 text-sm mb-2",children:[e.jsxs("span",{children:["Qty: ",t?.quantity]}),e.jsxs("span",{children:["₦",t?.price.toLocaleString()]})]}),e.jsxs("p",{className:"font-bold text-lg w-full text-right border-t pt-2 mt-2",children:["₦",(t?.price*t?.quantity).toLocaleString()]})]},t?.order_item_id))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-md border border-gray-200 max-w-md mx-auto lg:mx-0",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{children:"Subtotal"}),e.jsxs("p",{children:["₦",(s?.total_amount-s?.delivery_fee).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{children:"Delivery Fee"}),e.jsxs("p",{className:"text-green-600 font-semibold",children:["₦",parseFloat(s?.delivery_fee).toLocaleString()]})]}),e.jsx("div",{className:"h-px bg-gray-200 my-3"}),e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("p",{children:"Total"}),e.jsxs("p",{className:"text-indigo-600 text-2xl font-extrabold",children:["₦",parseFloat(s?.total_amount).toLocaleString()]})]})]})]})]})})]})}export{H as default};
